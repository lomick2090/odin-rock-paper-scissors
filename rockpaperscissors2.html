<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="utf-8">
        <title>Rock Paper Scissors</title>

    </head>

    <body>
        <h1>Rock Paper Scissors</h1>
        <button id="rock">ROCK</button> <button id="paper">PAPER</button> <button id="scissors">SCISSORS</button>
        <div></div>


        <script>
            
            function computerChoice() { 
                let math = Math.floor(Math.random()* 3 + 1)
                switch (math) {
                    case 1 : return 'rock';
                    break;

                    case 2 : return 'paper';
                    break;

                    case 3 : return 'scissors';
                    break;
                }
            }
                    


            function rockPaperScissors(choice, computerchoice) {

                if (choice === 'rock') {

                    if (computerchoice === "rock") {

                        gameDescription.textContent = ('Computer chose rock, you tie!');
                        return 0;

                    } else if (computerchoice === "paper") {

                        gameDescription.textContent = ('Computer chose paper, you lose!');
                        return -1;

                    } else {

                        gameDescription.textContent = ('Computer chose scissors, you win!');
                        return 1;
                    }

                } else if (choice === 'paper') {

                                        
                    if (computerchoice === "rock") {

                        gameDescription.textContent = ('Computer chose rock, you win!');
                        return 1;

                    } else if (computerchoice === "paper") {

                        gameDescription.textContent = ('Computer chose paper you tie!');
                        return 0;

                    } else {

                        gameDescription.textContent = ('Computer chose scissors, you lose!');
                        return -1;

                    }


                } else if (choice === 'scissors') {

                                        
                    if (computerchoice === "rock") {

                        gameDescription.textContent = ('Computer chose rock, you lose!');
                        return -1;

                    } else if (computerchoice === "paper") {

                        gameDescription.textContent = ('Computer chose paper, you win!');
                        return 1;

                    } else {

                        gameDescription.textContent = ('Computer chose scissors, you tie!');
                        return 0;

                    }
                } 
            }

            function game (choice, computerChoice) {

                let result = rockPaperScissors(choice, computerChoice);

                if ( result === 1){
                    playerScore++;
                } else if (result === -1) {
                    computerScore++;
                }

                gameResult.textContent = `Humans: ${playerScore}  vs.  Computers: ${computerScore}`;

                if (playerScore === 5 || computerScore === 5){
                    body.removeChild(rock);
                    body.removeChild(paper);
                    body.removeChild(scissors);
                    body.removeChild(details);

                    if (playerScore > computerScore) {
                        finalResult = document.createElement('h2');
                        finalResult.textContent = 'CONGRATS! You beat the evil robots! Refresh to play again!';
                        body.appendChild(finalResult);
                    } else {
                        finalResult = document.createElement('h2');
                        finalResult.textContent = 'Sorry ... the evil computer won this time ... YOU LOSE! Refresh to play again!';
                        body.appendChild(finalResult);
                    }
                }
            }


            let playerScore = 0;
            let computerScore = 0;

            let body = document.querySelector('body');
            let btn = document.querySelectorAll('button');

            let rock = document.getElementById('rock');
            let paper = document.getElementById('paper');
            let scissors = document.getElementById('scissors');

            let details = document.querySelector('div');
            let gameDescription = document.createElement('p');
            let gameResult = document.createElement('h3')
            gameResult.textContent = `Humans: ${playerScore}  vs.  Computers: ${computerScore}`;
            details.appendChild(gameResult);
            details.appendChild(gameDescription);
            

            rock.addEventListener("click", () => game('rock', computerChoice()));
            paper.addEventListener("click",() => game('paper', computerChoice()));
            scissors.addEventListener("click", () => game('scissors', computerChoice()));
        
            
        </script>

    </body>

</html>